{"name":"Lua scripts","fileName":"My Gleaming Calendar Notebook.json","createdAt":"2025-03-23T03:53:21.116Z","cells":[{"id":"32c67ec7be3b4583","type":"markdown","content":"**Load and execute the first script**\n\n* SCRIPT LOAD used to send script content to Redis server, and return n SHA id\n* EVALSHA will take that id and executing it on Redis"},{"id":"9de4821c178e9de4","type":"redis","content":"SCRIPT LOAD 'return 1 + 1'"},{"id":"1742702202545","type":"redis","content":"EVALSHA c301e0c5bc3538d2bad3fdbf2e281887e643ada4 0 "},{"id":"1742702640514","type":"markdown","content":"**Use ARGV**"},{"id":"1742702673721","type":"redis","content":"SCRIPT LOAD 'return 1 + tonumber(ARGV[1]) + tonumber(ARGV[2])'"},{"id":"1742702838874","type":"redis","content":"EVALSHA c64fe48b79aa91f6624b133ff9f588642817d8e4 0 '100' '200'"},{"id":"1742703189266","type":"markdown","content":"**Interact with Redis keys. Example invoke an Redis function**\n* Don't pass key 'color' as argument. This is a huge problem"},{"id":"1742703191393","type":"redis","content":"SET color red\r\nSCRIPT LOAD 'return redis.call(\"GET\", \"color\")' "},{"id":"1742703792946","type":"redis","content":"EVALSHA 5c319cc258f79a4a2387edac10122cb4ee3770ea 0"},{"id":"1742703828186","type":"markdown","content":"**Interact with Redis keys. Pass key as argument using KEYS**"},{"id":"1742703861553","type":"redis","content":"SET color red\r\nSCRIPT LOAD 'return redis.call(\"GET\", KEYS[1])' "},{"id":"1742703930846","type":"redis","content":"EVALSHA d1ad8397c172dc0a63e271f0c4c4250ca8d5d1fb 1 color "}],"id":"cf6a189245258852"}